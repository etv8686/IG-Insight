<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/logo.svg" />
    <link rel="shortcut icon" href="/logo.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IG Insight - Private & Secure</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
        min-height: 100vh;
        color: #e2e8f0;
        line-height: 1.6;
      }
      
      .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 40px 20px;
      }
      
      .header {
        text-align: center;
        margin-bottom: 50px;
        color: white;
      }
      
      .header h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 10px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      .header p {
        font-size: 1.1rem;
        opacity: 0.9;
        max-width: 600px;
        margin: 0 auto;
      }
      
      .trust-badges {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin: 30px 0;
        flex-wrap: wrap;
      }
      
      .trust-badge {
        display: flex;
        align-items: center;
        gap: 8px;
        background: rgba(255,255,255,0.1);
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 500;
        border: 1px solid rgba(255,255,255,0.2);
        backdrop-filter: blur(10px);
      }
      
      .instructions-card {
        background: rgba(255,255,255,0.05);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 16px;
        padding: 30px;
        margin-bottom: 30px;
        backdrop-filter: blur(10px);
      }
      
      .instructions-title {
        font-size: 1.3rem;
        font-weight: 600;
        color: #667eea;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
        user-select: none;
        transition: all 0.3s ease;
      }
      
      .instructions-title:hover {
        opacity: 0.8;
      }
      
      .accordion-icon {
        margin-left: auto;
        font-size: 0.8rem;
        transition: transform 0.3s ease;
      }
      
      .accordion-icon.rotated {
        transform: rotate(180deg);
      }
      
      .instructions-steps {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
      }
      
      .step {
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 12px;
        padding: 16px;
        text-align: center;
        min-height: 120px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      
      .step-number {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        margin: 0 auto 10px;
        font-size: 0.9rem;
      }
      
      .step-title {
        font-weight: 600;
        color: #e2e8f0;
        margin-bottom: 6px;
        font-size: 1rem;
      }
      
      .step-description {
        font-size: 0.8rem;
        color: #a0aec0;
        line-height: 1.3;
      }
      
      .main-card {
        background: rgba(255,255,255,0.05);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 16px;
        padding: 40px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        margin-bottom: 30px;
        backdrop-filter: blur(10px);
      }
      
      .upload-section {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        margin-bottom: 30px;
      }
      
      .file-input-group {
        text-align: center;
      }
      
      .file-input-group label {
        display: block;
        font-weight: 600;
        font-size: 1.1rem;
        margin-bottom: 15px;
        color: #e2e8f0;
      }
      
      .file-input {
        position: relative;
        border: 2px dashed rgba(255,255,255,0.3);
        border-radius: 12px;
        padding: 30px 20px;
        transition: all 0.3s ease;
        cursor: pointer;
        background: rgba(255,255,255,0.03);
      }
      
      .file-input:hover {
        border-color: #667eea;
        background: rgba(102, 126, 234, 0.1);
      }
      
      .file-input.has-file {
        border-color: #48bb78;
        background: rgba(72, 187, 120, 0.1);
      }
      
      .file-input input[type="file"] {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
      }
      
      .file-icon {
        font-size: 2rem;
        margin-bottom: 10px;
        color: #a0aec0;
      }
      
      .file-input.has-file .file-icon {
        color: #48bb78;
      }
      
      .file-text {
        font-size: 0.9rem;
        color: #a0aec0;
        margin-bottom: 5px;
      }
      
      .file-name {
        font-weight: 600;
        color: #e2e8f0;
        font-size: 0.9rem;
      }
      
      .analyze-btn {
        width: 100%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 16px 32px;
        border-radius: 12px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      }
      
      .analyze-btn:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
      }
      
      .analyze-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }
      
      .error {
        background: rgba(245, 101, 101, 0.1);
        color: #f56565;
        padding: 16px;
        border-radius: 8px;
        margin: 20px 0;
        border-left: 4px solid #e53e3e;
        display: none;
        border: 1px solid rgba(245, 101, 101, 0.2);
      }
      
      .results {
        display: none;
        margin-top: 30px;
      }
      
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
      }
      
      .stat-card {
        background: rgba(255,255,255,0.1);
        border: 1px solid rgba(255,255,255,0.2);
        padding: 24px;
        border-radius: 12px;
        text-align: center;
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }
      
      .stat-number {
        font-size: 2.5rem;
        font-weight: 700;
        color: #1a202c;
        margin-bottom: 8px;
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
      }
      
      .stat-label {
        font-size: 0.9rem;
        color: #2d3748;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.2);
      }
      
      .lists-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 24px;
      }
      
      .list-card {
        background: rgba(255,255,255,0.08);
        border: 1px solid rgba(255,255,255,0.15);
        border-radius: 12px;
        padding: 24px;
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
      
      .list-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 12px;
        border-bottom: 2px solid rgba(255,255,255,0.1);
      }
      
      .list-title {
        font-size: 1.1rem;
        font-weight: 600;
        color: #1a202c;
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
      }
      
      .list-count {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
      }
      
      .list-content {
        max-height: 300px;
        overflow-y: auto;
        padding-right: 8px;
      }
      
      .list-content::-webkit-scrollbar {
        width: 6px;
      }
      
      .list-content::-webkit-scrollbar-track {
        background: rgba(255,255,255,0.1);
        border-radius: 3px;
      }
      
      .list-content::-webkit-scrollbar-thumb {
        background: rgba(255,255,255,0.3);
        border-radius: 3px;
      }
      
      .list-item {
        padding: 12px 0;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        font-size: 0.9rem;
        color: #4a5568;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      
      .list-item:last-child {
        border-bottom: none;
      }
      
      .username {
        font-weight: 600;
        color: #1a202c;
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
      }
      
      .empty-state {
        text-align: center;
        color: #a0aec0;
        font-style: italic;
        padding: 40px 20px;
      }
      
      .privacy-notice {
        background: rgba(72, 187, 120, 0.1);
        border: 1px solid rgba(72, 187, 120, 0.3);
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 30px;
        text-align: center;
      }
      
      .privacy-notice .icon {
        font-size: 1.5rem;
        margin-bottom: 8px;
      }
      
      .privacy-notice .text {
        color: #68d391;
        font-weight: 500;
      }
      
      
      .pro-tip {
        background: rgba(59, 130, 246, 0.1);
        border: 1px solid rgba(59, 130, 246, 0.3);
        border-radius: 8px;
        padding: 12px;
        display: flex;
        align-items: flex-start;
        gap: 8px;
      }
      
      .tip-icon {
        font-size: 1.2rem;
        margin-top: 2px;
      }
      
      .tip-text {
        color: #93c5fd;
        font-size: 0.9rem;
        line-height: 1.4;
      }
      
      .tip-text strong {
        color: #60a5fa;
      }
      
      .settings-image-container {
        text-align: center;
        margin: 12px 0;
        padding: 12px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      .settings-image {
        max-width: 100%;
        height: auto;
        border-radius: 6px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.1);
        max-height: 200px;
      }
      
      @media (max-width: 768px) {
        .upload-section {
          grid-template-columns: 1fr;
          gap: 20px;
        }
        
        .trust-badges {
          gap: 15px;
        }
        
        .header h1 {
          font-size: 2rem;
        }
        
        .main-card {
          padding: 24px;
        }
        
        .instructions-steps {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>IG Insights</h1>
        <p>Discover your Instagram relationships privately and securely</p>
        
        <div class="trust-badges">
          <div class="trust-badge">
            <span>🔒</span>
            <span>100% Private</span>
          </div>
          <div class="trust-badge">
            <span>🏠</span>
            <span>Local Processing</span>
          </div>
          <div class="trust-badge">
            <span>⚡</span>
            <span>Instant Results</span>
          </div>
        </div>
      </div>
      
      <div class="instructions-card">
        <div class="instructions-title" onclick="toggleInstructions()">
          <span>📋</span>
          <span>How to Get Your Instagram Data</span>
          <span class="accordion-icon" id="accordion-icon">▼</span>
        </div>
        <div class="instructions-steps" id="instructions-steps" style="display: none;">
          <div class="step">
            <div class="step-number">1</div>
            <div class="step-title">Go to Instagram</div>
            <div class="step-description">Visit instagram.com on your computer (not mobile app)</div>
          </div>
          <div class="step">
            <div class="step-number">2</div>
            <div class="step-title">Account Center</div>
            <div class="step-description">Click your profile → Settings → Account Center</div>
          </div>
          <div class="step">
            <div class="step-number">3</div>
            <div class="step-title">Your Information</div>
            <div class="step-description">Go to "Your information and permissions"</div>
          </div>
          <div class="step">
            <div class="step-number">4</div>
            <div class="step-title">Export Data</div>
            <div class="step-description">Click "Export your information" and select "Followers" and "Following"</div>
          </div>
          <div class="step">
            <div class="step-number">5</div>
            <div class="step-title">Check Settings</div>
            <div class="step-description">Make sure Date range is "All time" and Format is "JSON"</div>
          </div>
          <div class="step">
            <div class="step-number">6</div>
            <div class="step-title">Visual Guide</div>
            <div class="step-description">Your export settings should look like this:</div>
            
            <!-- Export Settings Image -->
            <div class="settings-image-container">
              <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjM2MCIgaGVpZ2h0PSI2MCIgcng9IjgiIGZpbGw9IiNGOUZBRkMiLz4KPHN2ZyB4PSIzMCIgeT0iMzAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTkgMTJIMTVNMTIgOUwxMiAxNU0yMSAxMkMxOSAxMiAxOCAxMyAxOCAxNFYyMEMxOCAyMSAxOSAyMiAyMCAyMkgyMEMyMSAyMiAyMiAyMSAyMiAyMFYxNEMyMiAxMyAyMSAxMiAyMSAxMloiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cjx0ZXh0IHg9IjYwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNjAwIiBmaWxsPSIjMzMzMzMzIj5DdXN0b21pemUgaW5mb3JtYXRpb248L3RleHQ+Cjx0ZXh0IHg9IjYwIiB5PSI3MCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmaWxsPSIjNjY2NjY2Ij5Gb2xsb3dlcnMgYW5kIGZvbGxvd2luZzwvdGV4dD4KPHN2ZyB4PSIzNDAiIHk9IjQwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSI+CjxwYXRoIGQ9Ik05IDE4TDE1IDEyTDkgNiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4KPHJlY3QgeD0iMjAiIHk9IjkwIiB3aWR0aD0iMzYwIiBoZWlnaHQ9IjYwIiByeD0iOCIgZmlsbD0iI0Y5RkFGQyIvPgo8c3ZnIHg9IjMwIiB5PSIxMDAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTggMlY1TTggMTlWMjJNMTYgMlY1TTE2IDE5VjIyTTMgMTBIMjFNNiAxMEg0QzMgMTAgMiAxMSAyIDEyVjE4QzIgMTkgMyAyMCA0IDIwSDZDNyAyMCA4IDE5IDggMThWMTJDOCAxMSA3IDEwIDYgMTBaIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo8dGV4dCB4PSI2MCIgeT0iMTIwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI2MDAiIGZpbGw9IiMzMzMzMzMiPkRhdGUgcmFuZ2U8L3RleHQ+Cjx0ZXh0IHg9IjYwIiB5PSIxNDAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NjY2NiI+QWxsIHRpbWU8L3RleHQ+CjxzdmcgeD0iMzQwIiB5PSIxMTAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTkgMThMMTUgMTJMOSA2IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo8cmVjdCB4PSIyMCIgeT0iMTYwIiB3aWR0aD0iMzYwIiBoZWlnaHQ9IjYwIiByeD0iOCIgZmlsbD0iI0Y5RkFGQyIvPgo8c3ZnIHg9IjMwIiB5PSIxNzAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTE0IDJIMTBDOSAxIDggMiA4IDNWN0M4IDggOSA5IDEwIDlIMTRDMTUgOSAxNiA4IDE2IDdWM0MxNiAyIDE1IDEgMTQgMloiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cjx0ZXh0IHg9IjYwIiB5PSIxOTAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9IjYwMCIgZmlsbD0iIzMzMzMzMyI+Rm9ybWF0PC90ZXh0Pgo8dGV4dCB4PSI2MCIgeT0iMjEwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM2NjY2NjYiPkpTT048L3RleHQ+CjxzdmcgeD0iMzQwIiB5PSIxODAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTkgMThMMTUgMTJMOSA2IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo8cmVjdCB4PSIyMCIgeT0iMjMwIiB3aWR0aD0iMzYwIiBoZWlnaHQ9IjYwIiByeD0iOCIgZmlsbD0iI0Y5RkFGQyIvPgo8c3ZnIHg9IjMwIiB5PSIyNDAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTEwIDZIMTRDMTUgNiAxNiA3IDE2IDhWMTZDMTYgMTcgMTUgMTggMTQgMThIMTBDOSAxOCA4IDE3IDggMTZWOEM4IDcgOSA2IDEwIDZaIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo8dGV4dCB4PSI2MCIgeT0iMjYwIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSI2MDAiIGZpbGw9IiMzMzMzMzMiPk1lZGlhIHF1YWxpdHk8L3RleHQ+Cjx0ZXh0IHg9IjYwIiB5PSIyODAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzY2NjY2NiI+TWVkaXVtIHF1YWxpdHk8L3RleHQ+CjxzdmcgeD0iMzQwIiB5PSIyNTAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHBhdGggZD0iTTkgMThMMTUgMTJMOSA2IiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo8cmVjdCB4PSIyMCIgeT0iMjkwIiB3aWR0aD0iMzYwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iIzAwN0JGRiIvPgo8dGV4dCB4PSIxOTAiIHk9IjMxNSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iNjAwIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+U3RhcnQgZXhwb3J0PC90ZXh0Pgo8L3N2Zz4K" alt="Instagram Export Settings" class="settings-image">
            </div>
            
          </div>
        </div>
      </div>
      
      <div class="main-card">
        <div class="privacy-notice">
          <div class="icon">🛡️</div>
          <div class="text">Your data never leaves your device. Everything is processed locally in your browser.</div>
        </div>
        
        <div id="error" class="error"></div>
        
        <div class="upload-section">
          <div class="file-input-group">
            <label for="followers">Followers JSON</label>
            <div class="file-input" id="followers-input">
              <input type="file" id="followers" accept=".json">
              <div class="file-icon">📁</div>
              <div class="file-text">Click to select or drag & drop</div>
              <div class="file-name" id="followers-name"></div>
            </div>
          </div>
          
          <div class="file-input-group">
            <label for="following">Following JSON</label>
            <div class="file-input" id="following-input">
              <input type="file" id="following" accept=".json">
              <div class="file-icon">📁</div>
              <div class="file-text">Click to select or drag & drop</div>
              <div class="file-name" id="following-name"></div>
            </div>
          </div>
        </div>
        
        <button id="analyze" class="analyze-btn" onclick="analyzeData()">
          🔍 Discover My Insights
        </button>
        
        <div id="results" class="results">
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-number" id="followers-count">0</div>
              <div class="stat-label">Followers</div>
            </div>
            <div class="stat-card">
              <div class="stat-number" id="following-count">0</div>
              <div class="stat-label">Following</div>
            </div>
            <div class="stat-card">
              <div class="stat-number" id="mutuals-count">0</div>
              <div class="stat-label">Mutuals</div>
            </div>
            <div class="stat-card">
              <div class="stat-number" id="not-back-count">0</div>
              <div class="stat-label">Don't Follow Back</div>
            </div>
          </div>
          
          <div class="lists-grid">
            <div class="list-card">
              <div class="list-header">
                <div class="list-title">Don't Follow Back</div>
                <div class="list-count" id="not-back-list-count">0</div>
              </div>
              <div class="list-content" id="not-back-list">
                <div class="empty-state">No data yet</div>
              </div>
            </div>
            
            <div class="list-card">
              <div class="list-header">
                <div class="list-title">You Don't Follow</div>
                <div class="list-count" id="you-not-list-count">0</div>
              </div>
              <div class="list-content" id="you-not-list">
                <div class="empty-state">No data yet</div>
              </div>
            </div>
            
            <div class="list-card">
              <div class="list-header">
                <div class="list-title">Mutuals</div>
                <div class="list-count" id="mutuals-list-count">0</div>
              </div>
              <div class="list-content" id="mutuals-list">
                <div class="empty-state">No data yet</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // File input handling
      document.getElementById('followers').addEventListener('change', function(e) {
        const file = e.target.files[0];
        const input = document.getElementById('followers-input');
        const name = document.getElementById('followers-name');
        
        if (file) {
          input.classList.add('has-file');
          name.textContent = file.name;
        } else {
          input.classList.remove('has-file');
          name.textContent = '';
        }
      });
      
      document.getElementById('following').addEventListener('change', function(e) {
        const file = e.target.files[0];
        const input = document.getElementById('following-input');
        const name = document.getElementById('following-name');
        
        if (file) {
          input.classList.add('has-file');
          name.textContent = file.name;
        } else {
          input.classList.remove('has-file');
          name.textContent = '';
        }
      });

      function showError(message) {
        const errorDiv = document.getElementById('error');
        errorDiv.textContent = message;
        errorDiv.style.display = 'block';
        setTimeout(() => {
          errorDiv.style.display = 'none';
        }, 5000);
      }

      function extractUsernames(json) {
        const usernames = [];
        
        function walk(obj) {
          if (!obj) return;
          if (Array.isArray(obj)) {
            obj.forEach(walk);
          } else if (typeof obj === 'object') {
            if (Array.isArray(obj.string_list_data)) {
              obj.string_list_data.forEach(item => {
                if (item && item.value && typeof item.value === 'string') {
                  usernames.push(item.value.trim().toLowerCase());
                }
              });
            }
            Object.values(obj).forEach(walk);
          }
        }
        
        walk(json);
        return [...new Set(usernames)];
      }

      function analyzeData() {
        const followersFile = document.getElementById('followers').files[0];
        const followingFile = document.getElementById('following').files[0];
        
        if (!followersFile || !followingFile) {
          showError('Please select both JSON files to continue');
          return;
        }
        
        const button = document.getElementById('analyze');
        button.disabled = true;
        button.textContent = '🔄 Discovering...';
        
        Promise.all([
          followersFile.text().then(text => JSON.parse(text)),
          followingFile.text().then(text => JSON.parse(text))
        ]).then(([followersData, followingData]) => {
          const followers = extractUsernames(followersData);
          const following = extractUsernames(followingData);
          
          if (followers.length === 0) {
            throw new Error('No followers found in the file. Please check the file format.');
          }
          if (following.length === 0) {
            throw new Error('No following found in the file. Please check the file format.');
          }
          
          // Calculate differences
          const notBack = following.filter(user => !followers.includes(user));
          const youNot = followers.filter(user => !following.includes(user));
          const mutuals = following.filter(user => followers.includes(user));
          
          // Update statistics
          document.getElementById('followers-count').textContent = followers.length.toLocaleString();
          document.getElementById('following-count').textContent = following.length.toLocaleString();
          document.getElementById('mutuals-count').textContent = mutuals.length.toLocaleString();
          document.getElementById('not-back-count').textContent = notBack.length.toLocaleString();
          
          // Update list counts
          document.getElementById('not-back-list-count').textContent = notBack.length.toLocaleString();
          document.getElementById('you-not-list-count').textContent = youNot.length.toLocaleString();
          document.getElementById('mutuals-list-count').textContent = mutuals.length.toLocaleString();
          
          // Populate lists
          document.getElementById('not-back-list').innerHTML = notBack.length > 0 ? 
            notBack.map(user => `<div class="list-item"><span class="username">@${user}</span></div>`).join('') :
            '<div class="empty-state">Everyone follows you back! 🎉</div>';
          
          document.getElementById('you-not-list').innerHTML = youNot.length > 0 ? 
            youNot.map(user => `<div class="list-item"><span class="username">@${user}</span></div>`).join('') :
            '<div class="empty-state">You follow everyone back! 🎉</div>';
          
          document.getElementById('mutuals-list').innerHTML = mutuals.length > 0 ? 
            mutuals.map(user => `<div class="list-item"><span class="username">@${user}</span></div>`).join('') :
            '<div class="empty-state">No mutual follows found</div>';
          
          // Show results
          document.getElementById('results').style.display = 'block';
          document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
          
        }).catch(error => {
          showError('Error processing files: ' + error.message);
        }).finally(() => {
          button.disabled = false;
          button.textContent = '🔍 Discover My Insights';
        });
      }
    </script>
    <script>
      function toggleInstructions() {
        const steps = document.getElementById('instructions-steps');
        const icon = document.getElementById('accordion-icon');
        
        if (steps.style.display === 'none') {
          steps.style.display = 'grid';
          icon.classList.add('rotated');
        } else {
          steps.style.display = 'none';
          icon.classList.remove('rotated');
        }
      }
    </script>
  </body>
</html>